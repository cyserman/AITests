<!DOCTYPE html>
<html>
<head>
    <title>CaseCraft Debug</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #1a1a1a; color: #0f0; }
        .section { margin: 20px 0; padding: 20px; border: 1px solid #0f0; }
        button { background: #0f0; color: #000; padding: 10px 20px; margin: 5px; border: none; cursor: pointer; }
        pre { background: #000; padding: 10px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>üîç CaseCraft Debug Panel</h1>
    
    <div class="section">
        <h2>Step 1: Check localStorage</h2>
        <button onclick="checkStorage()">Check Storage</button>
        <pre id="storage-result"></pre>
    </div>

    <div class="section">
        <h2>Step 2: Load Case Data</h2>
        <button onclick="loadData()">Load Your 5 Case Events</button>
        <pre id="load-result"></pre>
    </div>

    <div class="section">
        <h2>Step 3: View Data</h2>
        <button onclick="viewData()">View Loaded Data</button>
        <pre id="view-result"></pre>
    </div>

    <div class="section">
        <h2>Step 4: Go to Main App</h2>
        <button onclick="location.href='/'">Open CaseCraft</button>
    </div>

    <script>
        function checkStorage() {
            const data = localStorage.getItem('CASE_CRAFT_STATE_V3');
            const result = document.getElementById('storage-result');
            if (data) {
                const parsed = JSON.parse(data);
                result.textContent = `‚úÖ Found ${parsed.evidence?.length || 0} evidence items\n${parsed.notes?.length || 0} notes\n${parsed.narrative?.length || 0} narrative events`;
            } else {
                result.textContent = '‚ùå No data found in localStorage';
            }
        }

        function loadData() {
            const caseData = {"evidence":[{"id":"EVT-0001","type":"DOCUMENT","sender":"PFA order filed","content":"Protection From Abuse order filed. Includes EPFA and follow-on PFA activity.","timestamp":"2024-11-01T00:00:00.000Z","hash":"uggtxf","verified":true,"verificationStatus":"VERIFIED","isInTimeline":true,"exhibitCode":"PKT-001","lane":"PROCEDURAL","tags":["PFA"],"reliability":"High","source":"Court filings","notes":"Removal and leverage origin point. Evidence includes filings, orders, CY-48 context, text deletions."},{"id":"EVT-0002","type":"INCIDENT","sender":"Camper incident","content":"Law enforcement involved. Custody interference and setup alleged.","timestamp":"2024-11-23T00:00:00.000Z","hash":"fhuxng","verified":true,"verificationStatus":"VERIFIED","isInTimeline":true,"exhibitCode":"EVT-0002","lane":"CUSTODY","tags":["INCIDENT"],"reliability":"High","source":"Law enforcement reports","notes":""},{"id":"EVT-0003","type":"INCIDENT","sender":"July 4th exchange incident","content":"Selective enforcement and rigidity demonstrated in holiday exchange.","timestamp":"2024-07-04T00:00:00.000Z","hash":"qnak0d","verified":true,"verificationStatus":"VERIFIED","isInTimeline":true,"exhibitCode":"CL-003","lane":"CUSTODY","tags":["EXCHANGE"],"reliability":"High","source":"Call logs","notes":"Evidence includes communications, missed/blocked exchanges."},{"id":"EVT-0004","type":"DOCUMENT","sender":"Counsel withdrawal","content":"Legal counsel withdrew from representation. Procedural disadvantage resulted.","timestamp":"2024-12-01T00:00:00.000Z","hash":"79jril","verified":true,"verificationStatus":"VERIFIED","isInTimeline":true,"exhibitCode":"EVT-0004","lane":"PROCEDURAL","tags":["COURT"],"reliability":"High","source":"Court records","notes":"Evidence includes correspondence, docket entries, absence of filings."},{"id":"EVT-0005","type":"INCIDENT","sender":"Christmas holiday denial","content":"Christmas holiday access denied. Status quo hardening demonstrated.","timestamp":"2024-12-25T00:00:00.000Z","hash":"95cw31","verified":true,"verificationStatus":"VERIFIED","isInTimeline":true,"exhibitCode":"EVT-0005","lane":"CUSTODY","tags":["EXCHANGE"],"reliability":"High","source":"Call logs","notes":"Evidence includes call logs, AppClose blocks, holiday denial records."}],"notes":[],"narrative":[]};
            
            localStorage.setItem('CASE_CRAFT_STATE_V3', JSON.stringify(caseData));
            document.getElementById('load-result').textContent = '‚úÖ Loaded 5 case events to localStorage';
        }

        function viewData() {
            const data = localStorage.getItem('CASE_CRAFT_STATE_V3');
            const result = document.getElementById('view-result');
            if (data) {
                const parsed = JSON.parse(data);
                result.textContent = JSON.stringify(parsed, null, 2);
            } else {
                result.textContent = '‚ùå No data found';
            }
        }

        // Auto-check on load
        window.onload = checkStorage;
    </script>
</body>
</html>
